<!DOCTYPE html>
<html lang="pt-BR">

<head>
  <title>Saldo Fácil - Login</title>
  <!-- Google Tag Manager -->
  <script>(function (w, d, s, l, i) {
      w[l] = w[l] || []; w[l].push({
        'gtm.start':
          new Date().getTime(), event: 'gtm.js'
      }); var f = d.getElementsByTagName(s)[0],
        j = d.createElement(s), dl = l != 'dataLayer' ? '&l=' + l : ''; j.async = true; j.src =
          'https://www.googletagmanager.com/gtm.js?id=' + i + dl; f.parentNode.insertBefore(j, f);
    })(window, document, 'script', 'dataLayer', 'GTM-54RF6LLM');</script>
  <!-- End Google Tag Manager -->
  <meta charset="UTF-8">
  <meta name="description" content="Com este app você consegue prever o seu saldo futuro adicionando seus débitos e créditos 
    recorrentes. Faça login em outros dispositivos e recupere os seus dados. Agora com IA para analisar 
    seus lançamentos.">
  <meta name="keywords" content="saldo fácil aplicativo, saldo fácil playstore, saldo fácil app, cálculo capital de giro, 
    previsão de saldo, finanças pessoais, orçamento doméstico, controle financeiro, cartão de crédito, 
    dízimos, relatório financeiro, gráficos, assistente virtual, assistente financeiro, inteligência artificial, 
    IA, autossuficiência financeira, autossuficiência, planejamento financeiro, planejamento orçamentário, 
    dinheiro, economia, poupança, investimentos, capital de giro, capital de giro líquido, 
    capital de giro próprio, capital de giro negativo, capital de giro positivo, capital de giro operacional, 
    capital de giro mínimo, capital de giro máximo, capital de giro permanente, capital de giro temporário, 
    capital de giro bruto, capital de giro líquido operacional, capital de giro líquido financeiro, 
    capital de giro líquido contábil, capital de giro líquido negativo, capital de giro líquido positivo, 
    capital de giro líquido mínimo, capital de giro líquido máximo, capital de giro líquido permanente, 
    capital de giro líquido temporário, capital de giro líquido bruto, capital de giro líquido, 
    capital de giro líquido operacional, capital de giro líquido financeiro, capital de giro líquido contábil, 
    capital de giro líquido negativo, capital de giro líquido positivo, capital de giro líquido mínimo, 
    capital de giro líquido máximo, capital de giro líquido permanente, capital de giro líquido temporário, 
    capital de giro líquido bruto, previsão financeira, previsão de saldo, aplicativo finanças, 
    aplicativo finanças pessoais, aplicativo controle financeiro, aplicativo orçamento doméstico, 
    aplicativo cartão de crédito, aplicativo dízimos, aplicativo relatório financeiro, aplicativo gráficos, 
    aplicativo assistente virtual, aplicativo assistente financeiro, aplicativo inteligência artificial, 
    aplicativo IA, aplicativo autossuficiência financeira, aplicativo autossuficiência, 
    aplicativo planejamento financeiro, aplicativo planejamento orçamentário, aplicativo dinheiro, 
    aplicativo economia, aplicativo poupança, aplicativo investimentos, aplicativo capital de giro">
  <meta name="google" content="translate">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="robots" content="index, follow">
  <link rel="icon" href="favicon.ico">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">
  <link rel="stylesheet" href="style.css">
</head>

<body>
  <!-- Google Tag Manager (noscript) -->
  <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-54RF6LLM" height="0" width="0"
      style="display:none;visibility:hidden"></iframe></noscript>
  <!-- End Google Tag Manager (noscript) -->
  <div class="container-auth">
    <div class="auth-form">
      <h5 class="center">Login</h5>
      <div class="input-field">
        <input type="email" id="email" placeholder=" " required>
        <label for="loginEmail">Email</label>
      </div>
      <div class="input-field">
        <input type="password" id="password" placeholder=" " required>
        <label for="password">Senha</label>
      </div>
      <div class="loginButtons">
        <button id="loginNoAuth" class="btn">Entrar sem login</button>
        <button onclick="login()" class="btn">Login</button>
      </div>
      <p class="center">
        <br>
        <a href="signup.html">Cadastrar-se</a> |
        <a href="#" onclick="forgotPassword()">Esqueci minha senha</a>
      <p id="error-message" class="red-text center"></p>
    </div>
  </div>

  <script type="module">
    import { initializeApp } from 'https://www.gstatic.com/firebasejs/9.0.0/firebase-app.js';
    import { getAuth, signInWithEmailAndPassword, sendPasswordResetEmail } from 'https://www.gstatic.com/firebasejs/9.0.0/firebase-auth.js';
    import firebaseConfig from './config.js';

    const app = initializeApp(firebaseConfig);
    const auth = getAuth(app);

    window.login = function () {
      const email = document.getElementById('email').value;
      const password = document.getElementById('password').value;

      signInWithEmailAndPassword(auth, email, password)
        .then(() => {
          window.location.href = "index.html";
        })
        .catch((error) => {
          let errorMessage = "Senha inválida";
          if (error.code === 'auth/user-not-found') {
            errorMessage = "Usuário não encontrado. Verifique o e-mail e tente novamente.";
          } else if (error.code === 'auth/wrong-password') {
            errorMessage = "Senha incorreta. Verifique a senha e tente novamente.";
          } else if (error.code === 'auth/invalid-email') {
            errorMessage = "E-mail inválido. Verifique o e-mail e tente novamente.";
          }
          document.getElementById('error-message').textContent = errorMessage;
        });
    };

    window.forgotPassword = function () {
      const email = document.getElementById('email').value;

      sendPasswordResetEmail(auth, email)
        .then(() => {
          alert('Um email para redefinir sua senha foi enviado!');
        })
        .catch((error) => {
          let errorMessage = "Digite seu email";
          if (error.code === 'auth/user-not-found') {
            errorMessage = "Usuário não encontrado. Verifique o e-mail e tente novamente.";
          } else if (error.code === 'auth/invalid-email') {
            errorMessage = "E-mail inválido. Verifique o e-mail e tente novamente.";
          }
          document.getElementById('error-message').textContent = errorMessage;
        });
    };

    document.getElementById("loginNoAuth").onclick = redirectToLoginNoAuth;

    // Função para redirecionar para a página de Fevereiro
    function redirectToLoginNoAuth() {
      window.location.href = "noauth/index.html"; // Redireciona para a página sem autenticação
    }

  </script>
</body>

</html>